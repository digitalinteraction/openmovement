<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Router Commands - BuildAX v2</title>

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/extra.css" type="text/css" />
  

  <script type="text/javascript" src="./js/theme.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
  

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style>
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> BuildAX v2</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
       <ul class="current">

    <li class="toctree-l1 ">
        <a class="" href="index.html">Home</a>
        
    </li>

    <li class="toctree-l1 ">
        <a class="" href="connecting.html">Connection Guide</a>
        
    </li>

    <li class="toctree-l1 current">
        <a class="current" href="commands.html">Router Commands</a>
        
            <ul>
            
                <li class="toctree-l2"><a href="#router-commands">Router Commands</a></li>
                
                    <li><a class="toctree-l3" href="#settings">Settings</a></li>
                
            
            </ul>
        
    </li>

    <li class="toctree-l1 ">
        <a class="" href="user-guide.html">Web Interface User Guide</a>
        
    </li>

    <li class="toctree-l1 ">
        <a class="" href="developer-api.html">Developer Guide</a>
        
    </li>

</ul>




      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="index.html"></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    <li>Router Commands</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://code.google.com/p/openmovement/">OpenMovement</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" id="main">
            <h1 id="router-commands">Router Commands</h1>
<p>All of the configuration actions which are available through the web interface
may also be used as text-interface commands. For information on how to access 
the text-mode command terminal, please see <a href="connecting.html">Connecting to the Router</a>.</p>
<p>Command summary for the router:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>help</td>
<td>Display this command list</td>
</tr>
<tr>
<td>status</td>
<td>Show current router configuration, including streaming settings and connectivity (IP address)</td>
</tr>
<tr>
<td>time</td>
<td>Display and set the RTC (Real Time Clock) on the router, used for time-stamping incoming data</td>
</tr>
<tr>
<td>reset</td>
<td>Reset the router (reload all settings from the SD card)</td>
</tr>
<tr>
<td>mount</td>
<td>Show SD card mount status (mounted/unmounted)</td>
</tr>
<tr>
<td>format</td>
<td>Format the SD card. <strong>All data on the SD card will be permanently erased</strong></td>
</tr>
<tr>
<td>save</td>
<td>Write settings file out to disk</td>
</tr>
<tr>
<td>setting</td>
<td>Change a setting. See <a href="#settings">Settings</a> for more information</td>
</tr>
<tr>
<td>exit</td>
<td>Disconnect from Telnet (will not disconnect a serial connection)</td>
</tr>
</tbody>
</table>
<p>Each command must be provided on a new line. To modify a value, provide the
command with an equals ('=') sign and the new value. For example:</p>
<pre class="prettyprint well"><code>    setting.file.stream=0
    mount=1
</code></pre>

<p>... will stop logging data to file, and mount the <a href="connecting.html#usb-mass-storage">USB Mass Storage</a>
device so the SD card can be accessed by a PC over the USB connection.</p>
<h2 id="settings">Settings</h2>
<p>Settings are expressed in the form <code>setting.type.x=y</code> and are used by the
router to determine where to route messages. "Messages" in this context are 
data packets (sent by the environment sensors) received by the device, which 
must be routed to various outputs.</p>
<p>Each <code>setting.type</code> describes a data output, or "stream":</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>usb</td>
<td>USB CDC (Communications Device Class) Serial connection</td>
</tr>
<tr>
<td>file</td>
<td>Logging of data packets to a file on the SD card</td>
</tr>
<tr>
<td>udp</td>
<td>Network packet-forwarding over UDP (User Datagram Protocol)</td>
</tr>
<tr>
<td>telnet</td>
<td>Telnet protocol (virtual terminal connection) provided as a networked alternative to the serial interface</td>
</tr>
<tr>
<td>websocket</td>
<td>Websocket packet-forwarding (used in the <a href="user-guide.html#sensors">Web Interface</a> to provide real-time data)</td>
</tr>
</tbody>
</table>
<p>Each stream has two configurable options: <code>stream</code> and <code>mode</code>.</p>
<ul>
<li><strong>Stream</strong>: Enable/disable the data output. Off: <code>stream=0</code>, On: <code>stream=1</code></li>
<li><strong>Mode</strong>: Output as plaintext (<code>mode=0</code>) or slip-encoded binary (<code>mode=1</code>)</li>
</ul>
<p>The router will print a summary to confirm the command after you type it.</p>
<p>Here is an example with commands used to determine the state of the UDP stream,
enable it, and set it to binary mode:</p>
<pre class="prettyprint well"><code>&gt;   setting.udp.stream
    Udp:
    Mode: 0
    Setting: Turned off

&gt;   setting.udp.stream=1
    Udp:
    Mode: 0
    Setting: Turned on

&gt;   setting.udp.mode=1
    Udp:
    Mode: 1
    Setting: Turned on
</code></pre>

<p>It is possible to configure the router with options which are 
potentially useless- streaming data over Telnet in binary, for instance, 
would be undesirable in most situations. </p>

          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user-guide.html" class="btn btn-neutral float-right" title="Web Interface User Guide"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="connecting.html" class="btn btn-neutral" title="Connection Guide"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      Developed at <a href="http://di.ncl.ac.uk/blog/open-movement/" rel="nofollow">Newcastle University, UK</a>.
      Available under <a href="http://creativecommons.org/licenses/by/3.0/" rel="nofollow">CC 3.0 BY Attribution</a> License
    </p>
  </div>

  <p>
    Docs built with <a href="http://www.mkdocs.org">MkDocs</a> &bull; Theme based on <a href="https://github.com/snide/sphinx_rtd_theme">Read the Docs</a> 
  </p>
</footer>
        </div>
      </div>

    </section>

  </div>
<!--
<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span><a href="" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
-->
</body>
</html>